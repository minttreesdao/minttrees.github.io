<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-image: url('rock_scissors_paper.jpeg'); 
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            padding: 50px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
        }
        
        .chains {
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border-bottom: 1px solid #dee2e6;
            margin-bottom: 20px;
        }

        .main {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        @media screen and (max-width: 600px) {
            .container {
                width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="main">
        <div class="chains">
            <br>
            <button id="connectButton">Connect Wallet</button>
            <br>
            <!-- <label for="network">Choose an L2</label> -->
            <select id="network" name="network">
              <option value=" ">Choose an L2</option>
              <option value="0x14a33">T Base Goerli</option>
              <option value="0x8274f">T Scroll Sepolia</option>
              <option value="0x1389">T Mantle Testnet</option>
              <option value="0x28c5f">T Taiko Jolnir Testnet</option>
              <option value="0x13881">T Polygon Mumbai Testnet</option>
              <option value="0x2105">Base</option>
              <option value="0xe708">Linea</option>
              <option value="0x144">zkSync Era</option>
              <option value="0x44d">Polygon zkEVM</option>
              <option value="0x82750">Scroll</option>
              <option value="0x1388">Mantle</option>
              <option value="0x76adf1">Zora</option>
              <option value="0xa">Optimism</option>
              <option value="0xa4b1">Arbitrum One</option>
              <option value="0xa4ba">Arbitrum Nova</option>
            </select>
            <p id="networkMessage"></p>
            <p><a href="https://hey.xyz/posts/0x0f85-0x1c45-DA-6cd6bcf1">how to bridge?</a></p>
        </div>
        <div class="container">
            
            <h2>Rock Scissors Paper v0.22</h2>
            
            <label for="move">Choose a move:</label>
            <select id="move" name="move">
              <option value="Rock">Rock</option>
              <option value="Scissors">Scissors</option>
              <option value="Paper">Paper</option>
            </select>
            <br>
            <label for="secret">Enter a secret:</label>
            <input type="text" id="secret" name="secret">
            <br>
            <button id="joinButton">Let's Play</button>
            <br>
            <button id="resetButton">Reset Game</button>
            <br>
            <p id="status"></p>
            <p id="contractMove"></p>
            <p id="winner"></p>
        </div>
        <div id="nftDialog" style="display: none;">
        <p>Would you like to mint your NFT?</p>
        <button id="mintButton">Mint NFT</button>
        <img id="nftImage" style="display: none;">
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script>
        window.addEventListener('load', async () => {
            // Modern dapp browsers...
            if (window.ethereum) {
                window.web3 = new Web3(ethereum);
                try {
                    if (ethereum.selectedAddress) {
                        document.getElementById('connectButton').innerText = 'Connected';
                    }
                } catch (error) {
                    // User denied account access...
                    console.error("User denied account access");
                }
                ethereum.on('accountsChanged', function (accounts) {
                    // When the connected account changes, update the button text
                    if (accounts.length > 0) {
                        document.getElementById('connectButton').innerText = 'Connected';
                    } else {
                        document.getElementById('connectButton').innerText = 'Connect Wallet';
                    }
                });
            }
            // Legacy dapp browsers...
            else if (window.web3) {
                window.web3 = new Web3(web3.currentProvider);
                // Check if a wallet is connected
                if (web3.eth.defaultAccount) {
                    document.getElementById('connectButton').innerText = 'Connected';
                }
            }
            // Non-dapp browsers...
            else {
                console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
            }

            document.getElementById('connectButton').addEventListener('click', async () => {
                try {
                    // Request account access if needed
                    await ethereum.enable();
                    const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
                    const account = accounts[0];
                    document.getElementById('connectButton').innerText = 'Connected';
                } catch (error) {
                    // User denied account access...
                    console.error("User denied account access");
                }
            });

            // Fetch the current network ID
            const currentChainId = await ethereum.request({ method: 'eth_chainId' });
            console.log('current chainid: ' + currentChainId);

            // Set the dropdown's value to the current network ID
            document.getElementById('network').value = currentChainId;

            document.getElementById('network').addEventListener('change', async (event) => {
            const selectedChainId = event.target.value;
            const currentChainId = await ethereum.request({ method: 'eth_chainId' });




            document.getElementById('nftDialog').style.display = 'block';
            // Show the NFT image
            const tokenURI = 'https://ipfs.io/ipfs/QmNcgrF6fphFpESM8viPJ4aPh9oZCutMjt3CpLTFuE5Pp6'; // zkSync Era
            //const metadata = await fetch(tokenURI).then(response => response.json());
            //const nftImage = document.getElementById('nftImage');

            fetch(tokenURI)
                .then(response => response.json())
                .then(metadata => {
                    const nftImage = document.getElementById('nftImage');
                    nftImage.src = metadata.image;
                    nftImage.style.display = 'block';
                })
                .catch(error => console.error('Error fetching token URI:', error));



            nftImage.src = metadata.image;
            nftImage.style.display = 'block';





            if (selectedChainId !== currentChainId) {
                ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: selectedChainId }],
                }).catch((error) => {
                    if (error.code === 4902) {
                        document.getElementById('networkMessage').innerText += 'This network is not added to your MetaMask.';
                    }
                });
                }
            
                // Check if the user has switched networks
                const newChainId = await ethereum.request({ method: 'eth_chainId' });
                if (selectedChainId === newChainId) {
                document.getElementById('networkMessage').innerText = '';
                }
                console.log('current chainid later: ' + currentChainId);
                console.log('current chainid later: ' + newChainId);
            });


            const moves = {
                'Rock': 1,
                'Scissors': 2,
                'Paper': 3
            };
            const moves_lookup = {
                1: 'Rock',
                2: 'Scissors',
                3: 'Paper'
            };
            
            const abi= [
                          {
                            "inputs": [],
                            "stateMutability": "nonpayable",
                            "type": "constructor"
                          },
                          {
                            "inputs": [],
                            "name": "contractMove",
                            "outputs": [
                              {
                                "internalType": "enum RSPSinglePlayerGS.Move",
                                "name": "",
                                "type": "uint8"
                              }
                            ],
                            "stateMutability": "view",
                            "type": "function",
                            "constant": true,
                            "signature": "0xa2b3198b"
                          },
                          {
                            "inputs": [
                              {
                                "internalType": "enum RSPSinglePlayerGS.Move",
                                "name": "joinMove",
                                "type": "uint8"
                              },
                              {
                                "internalType": "string",
                                "name": "secret",
                                "type": "string"
                              }
                            ],
                            "name": "joinAndReveal",
                            "outputs": [],
                            "stateMutability": "nonpayable",
                            "type": "function",
                            "signature": "0x191a02d1"
                          },
                          {
                            "inputs": [],
                            "name": "player",
                            "outputs": [
                              {
                                "internalType": "address",
                                "name": "addr",
                                "type": "address"
                              },
                              {
                                "internalType": "bytes32",
                                "name": "moveHash",
                                "type": "bytes32"
                              },
                              {
                                "internalType": "enum RSPSinglePlayerGS.Move",
                                "name": "move",
                                "type": "uint8"
                              }
                            ],
                            "stateMutability": "view",
                            "type": "function",
                            "constant": true,
                            "signature": "0x48db5f89"
                          },
                          {
                            "inputs": [],
                            "name": "reset",
                            "outputs": [],
                            "stateMutability": "nonpayable",
                            "type": "function",
                            "signature": "0xd826f88f"
                          },
                          {
                            "inputs": [],
                            "name": "winner",
                            "outputs": [
                              {
                                "internalType": "address",
                                "name": "",
                                "type": "address"
                              }
                            ],
                            "stateMutability": "view",
                            "type": "function",
                            "constant": true,
                            "signature": "0xdfbf53ae"
                          }
                        ];
            
            const contracts = {
              // Scroll Sepolia
                '534351': {
                    address: '0x0502Cb01F792533597BbC5d51f6bA677d6962eA8',
                    abi: abi
                    },
                // Base Testnet
                '84531': {
                    address: '0xBCE9F3665b1d599DC0c41BA397B1219fd4198F52',
                    abi: abi
                    },
                // Mantle Testnet
                '5001': {
                    address: '0x8bFd51626c3f63A242450568939F94f1202bCB86',
                    abi: abi
                    },
                // Taiko Jolnir Testnet
                '167007': {
                    address: '0x8bFd51626c3f63A242450568939F94f1202bCB86',
                    abi: abi
                    },
                // Polygon Mumbai Testnet
                '80001': {
                    address: '0xFE6c13A80021F6664714c261bf7eF4110911F547',
                    abi: abi
                    },
                // Base
                '8453': {
                    address: '0xEe20dD7eBe16De655e17463E50cA03aD3B0F8075',
                    abi: abi
                    },
                // Linea
                '59144': {
                    address: '0x6589fe2EA8ECAF991792eD734A5baE568564380E',
                    abi: abi
                    },
                // zkSync Era
                '324': {
                    address: '0x48e9C5d467363C9B8972e12C370Fc03807A045EB',
                    abi: abi
                    },
                // Polygon zkEVM
                '1101': {
                    address: '0x5849eb9088eb58173a5619a409b7D30C3bB693B5',
                    abi: abi
                    },
                // Scroll
                '534352': {
                    address: '0x6589fe2EA8ECAF991792eD734A5baE568564380E',
                    abi: abi
                    },
                // Mantle
                '5000': {
                    address: '0x0502Cb01F792533597BbC5d51f6bA677d6962eA8',
                    abi: abi
                    },
                // Zora
                '7777777': {
                    address: '0x8bFd51626c3f63A242450568939F94f1202bCB86',
                    abi: abi
                    },
                // Optimism
                '10': {
                    address: '0x93E7FD72c183c8160068f681C23213fFdc6D0E3d',
                    abi: abi
                },
                // Arbitrum
                '42161': {
                    address: '0x2735f7354878c88F92636AFFD0b914337f22FD06',
                    abi: abi
                },
                // Arbitrum Nova
                '42170': {
                    address: '0xfCB5276c2Ec69D9DFf6ad4FAEc16F100951443c1',
                    abi: abi
                }
            };

            document.getElementById('joinButton').addEventListener('click', async () => {
                const selectedMove = document.getElementById('move').value;
                const secret = document.getElementById('secret').value;
                const moveValue = moves[selectedMove];
                const accounts = await web3.eth.getAccounts();

                let networkId = await web3.eth.net.getId();
                let contractInfo = contracts[networkId];
                let gameContract = new web3.eth.Contract(contractInfo.abi, contractInfo.address);

                console.log('networkId joinButton: ' + networkId);
                
                await gameContract.methods.joinAndReveal(moveValue, secret).send({from: accounts[0]});
                const contractMove = await gameContract.methods.contractMove().call();
                document.getElementById('status').innerText = "You joined the game";
                document.getElementById('contractMove').innerText = "Contract chose: " + moves_lookup[contractMove];
                
                const winner = await gameContract.methods.winner().call();
                
                console.log('winner: ' + winner);
                console.log('player chose ' + selectedMove);
                console.log('player chose txt ' + moves[selectedMove]);
                console.log('contract chose ' + contractMove);
                console.log('contract chose txt ' + moves_lookup[contractMove]);
                
                if (winner == accounts[0]) {
                    document.getElementById('winner').innerText = "Congratulations 🥳 You won!";
                    document.getElementById('nftDialog').style.display = 'block';
                    // Show the NFT image
                    const tokenURI = 'QmNcgrF6fphFpESM8viPJ4aPh9oZCutMjt3CpLTFuE5Pp6'; // zkSync Era
                    const metadata = await fetch(tokenURI).then(response => response.json());
                    const nftImage = document.getElementById('nftImage');
                    nftImage.src = metadata.image;
                    nftImage.style.display = 'block';
                } else if (winner == contractInfo.address) {
                    document.getElementById('winner').innerText = "You lost!";
                } else {
                    document.getElementById('winner').innerText = "It's a tie!";
                }
            });

            document.getElementById('mintButton').addEventListener('click', async () => {
                const accounts = await web3.eth.getAccounts();
                const recipient = accounts[0]; 

                let networkId = await web3.eth.net.getId();
                let contractInfo = contracts[networkId];
                const mintAbi = [
                                {
                                    "inputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "constructor"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "owner",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "approved",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "Approval",
                                    "type": "event",
                                    "signature": "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "owner",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "operator",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": false,
                                        "internalType": "bool",
                                        "name": "approved",
                                        "type": "bool"
                                    }
                                    ],
                                    "name": "ApprovalForAll",
                                    "type": "event",
                                    "signature": "0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": false,
                                        "internalType": "uint256",
                                        "name": "_fromTokenId",
                                        "type": "uint256"
                                    },
                                    {
                                        "indexed": false,
                                        "internalType": "uint256",
                                        "name": "_toTokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "BatchMetadataUpdate",
                                    "type": "event",
                                    "signature": "0x6bd5c950a8d8df17f772f5af37cb3655737899cbf903264b9795592da439661c"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": false,
                                        "internalType": "uint256",
                                        "name": "_tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "MetadataUpdate",
                                    "type": "event",
                                    "signature": "0xf8e1a15aba9398e019f0b49df1a4fde98ee17ae345cb5f6b5e2c27f5033e8ce7"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "previousOwner",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "newOwner",
                                        "type": "address"
                                    }
                                    ],
                                    "name": "OwnershipTransferred",
                                    "type": "event",
                                    "signature": "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0"
                                },
                                {
                                    "anonymous": false,
                                    "inputs": [
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "from",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "address",
                                        "name": "to",
                                        "type": "address"
                                    },
                                    {
                                        "indexed": true,
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "Transfer",
                                    "type": "event",
                                    "signature": "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "to",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "approve",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0x095ea7b3"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "owner",
                                        "type": "address"
                                    }
                                    ],
                                    "name": "balanceOf",
                                    "outputs": [
                                    {
                                        "internalType": "uint256",
                                        "name": "",
                                        "type": "uint256"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x70a08231"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "getApproved",
                                    "outputs": [
                                    {
                                        "internalType": "address",
                                        "name": "",
                                        "type": "address"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x081812fc"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "owner",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "address",
                                        "name": "operator",
                                        "type": "address"
                                    }
                                    ],
                                    "name": "isApprovedForAll",
                                    "outputs": [
                                    {
                                        "internalType": "bool",
                                        "name": "",
                                        "type": "bool"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0xe985e9c5"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "recipient",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "string",
                                        "name": "tokenURI",
                                        "type": "string"
                                    }
                                    ],
                                    "name": "mintNFT",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0xeacabe14"
                                },
                                {
                                    "inputs": [],
                                    "name": "name",
                                    "outputs": [
                                    {
                                        "internalType": "string",
                                        "name": "",
                                        "type": "string"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x06fdde03"
                                },
                                {
                                    "inputs": [],
                                    "name": "owner",
                                    "outputs": [
                                    {
                                        "internalType": "address",
                                        "name": "",
                                        "type": "address"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x8da5cb5b"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "ownerOf",
                                    "outputs": [
                                    {
                                        "internalType": "address",
                                        "name": "",
                                        "type": "address"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x6352211e"
                                },
                                {
                                    "inputs": [],
                                    "name": "renounceOwnership",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0x715018a6"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "from",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "address",
                                        "name": "to",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "safeTransferFrom",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0x42842e0e"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "from",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "address",
                                        "name": "to",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    },
                                    {
                                        "internalType": "bytes",
                                        "name": "data",
                                        "type": "bytes"
                                    }
                                    ],
                                    "name": "safeTransferFrom",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0xb88d4fde"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "operator",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "bool",
                                        "name": "approved",
                                        "type": "bool"
                                    }
                                    ],
                                    "name": "setApprovalForAll",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0xa22cb465"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "bytes4",
                                        "name": "interfaceId",
                                        "type": "bytes4"
                                    }
                                    ],
                                    "name": "supportsInterface",
                                    "outputs": [
                                    {
                                        "internalType": "bool",
                                        "name": "",
                                        "type": "bool"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x01ffc9a7"
                                },
                                {
                                    "inputs": [],
                                    "name": "symbol",
                                    "outputs": [
                                    {
                                        "internalType": "string",
                                        "name": "",
                                        "type": "string"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0x95d89b41"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "tokenURI",
                                    "outputs": [
                                    {
                                        "internalType": "string",
                                        "name": "",
                                        "type": "string"
                                    }
                                    ],
                                    "stateMutability": "view",
                                    "type": "function",
                                    "constant": true,
                                    "signature": "0xc87b56dd"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "from",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "address",
                                        "name": "to",
                                        "type": "address"
                                    },
                                    {
                                        "internalType": "uint256",
                                        "name": "tokenId",
                                        "type": "uint256"
                                    }
                                    ],
                                    "name": "transferFrom",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0x23b872dd"
                                },
                                {
                                    "inputs": [
                                    {
                                        "internalType": "address",
                                        "name": "newOwner",
                                        "type": "address"
                                    }
                                    ],
                                    "name": "transferOwnership",
                                    "outputs": [],
                                    "stateMutability": "nonpayable",
                                    "type": "function",
                                    "signature": "0xf2fde38b"
                                }
                ]


                let mintContracts = {
                // Scroll Sepolia
                    '534351': {
                        address: '0x6Fd8630Dc2256B50f6b86CAd55C8E9DB2F2eC652',
                        abi: abi
                        },
                    // Base Testnet
                    '84531': {
                        address: '',
                        abi: abi
                        },
                    // Mantle Testnet
                    '5001': {
                        address: '',
                        abi: abi
                        },
                    // Taiko Jolnir Testnet
                    '167007': {
                        address: '',
                        abi: abi
                        },
                    // Polygon Mumbai Testnet
                    '80001': {
                        address: '0x6FCB1DbDdA3509308f6892Db94872Bd1180fD9Bb',
                        abi: abi
                        },
                    // Base
                    '8453': {
                        address: '',
                        abi: abi
                        },
                    // Linea
                    '59144': {
                        address: '',
                        abi: abi
                        },
                    // zkSync Era
                    '324': {
                        address: '',
                        abi: abi
                        },
                    // Polygon zkEVM
                    '1101': {
                        address: '',
                        abi: abi
                        },
                    // Scroll
                    '534352': {
                        address: '',
                        abi: abi
                        },
                    // Mantle
                    '5000': {
                        address: '',
                        abi: abi
                        },
                    // Zora
                    '7777777': {
                        address: '',
                        abi: abi
                        },
                    // Optimism
                    '10': {
                        address: '',
                        abi: abi
                    },
                    // Arbitrum
                    '42161': {
                        address: '',
                        abi: abi
                    },
                    // Arbitrum Nova
                    '42170': {
                        address: '',
                        abi: abi
                    }
                };

                let mintContractInfo = mintContracts[networkId];
                let mintContract = new web3.eth.Contract(mintContractInfo.abi, mintContractInfo.address);
                await mintContract.methods.mintNFT(recipient, tokenURI).send({ from: accounts[0] });
            });
           
            document.getElementById('resetButton').addEventListener('click', async () => {
                const accounts = await web3.eth.getAccounts();

                let networkId = await web3.eth.net.getId();
                let contractInfo = contracts[networkId];
                let gameContract = new web3.eth.Contract(contractInfo.abi, contractInfo.address);

                console.log('networkId resetButton: ' + networkId);

                await gameContract.methods.reset().send({from: accounts[0]});
                document.getElementById('status').innerText = "Game reset";
                document.getElementById('contractMove').innerText = "";
                document.getElementById('winner').innerText = "";
            });
        });
    </script>
</body>
</html>
